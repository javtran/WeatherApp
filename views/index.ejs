<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>WeatherApp</title>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Nunito+Sans:opsz,wght@6..12,200;6..12,300;6..12,400;6..12,500;6..12,600;6..12,700;6..12,800;6..12,900&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="styles/main.css" />
	</head>
	<body>
		<main>
			<form action="/" method="POST">
				<i class="fa-solid fa-location-dot fa-lg"></i>
				<input
					id="search-bar"
					type="text"
					name="search"
					placeholder="Search for a city"
				/>
				<button type="submit" class="btn btn-success">
					<i class="fa-solid fa-magnifying-glass fa-lg"></i>
				</button>
			</form>
			<% if (locals.data) { %>
			<section>
				<div id="weather">
					<img
						src="<%= `https://openweathermap.org/img/wn/${data.weather.icon}@2x.png` %>"
					/>
					<h2><%= data.weather.description %></h2>
				</div>

				<h1><%= data.temp %>&deg;F</h1>
				<div id="detail">
					<div class="detail-item">
						<i class="fa-solid fa-droplet fa-2xl"></i>
						<div>
							<p><%= data.humidity %>&percnt;</p>
							<p>Humidity</p>
						</div>
					</div>
					<div class="detail-item">
						<i class="fa-solid fa-wind fa-2xl"></i>
						<div>
							<p><%= data.wind %> Km/h</p>
							<p>Wind Speed</p>
						</div>
					</div>
				</div>
				<h2>
					<%= data.name %>, <%= data.state ? `${data.state},` : "" %> <%=
					data.country %>
				</h2>
			</section>

			<% } %> <% if (locals.error) { %>
			<section><h2>No results for <%= error %></h2></section>

			<% } %>
		</main>
	</body>
	<script
		src="https://kit.fontawesome.com/8eefc84e6e.js"
		crossorigin="anonymous"
	></script>
</html>
